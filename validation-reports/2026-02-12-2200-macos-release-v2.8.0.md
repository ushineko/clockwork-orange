## Validation Report: macOS Release v2.8.0
**Date**: 2026-02-12 22:00
**Commit**: (pending)
**Status**: PASSED

### Changes Summary
- macOS platform support (Spec 007): platform detection, wallpaper API, build scripts, CI/CD
- File dialog hang fix: use non-native QFileDialog on macOS to prevent NSOpenPanel focus deadlock
- Code consistency: `platform_utils.is_macos()` used throughout instead of raw `sys.platform`
- README updated for three-platform support (Linux, Windows, macOS)
- Version bump: v2.7.13 → v2.8.0 (minor bump for new platform feature)

### Phase 3: Tests
- Self-test (`--self-test`): All 12 checks passed (non-frozen mode)
- Self-test in frozen `.app` bundle: All 13 checks passed (including `watchdog_bundle`)
- macOS-specific imports verified: AppKit, Foundation, objc
- Plugin discovery: 5 plugins found
- Status: PASSED

### Phase 4: Code Quality
- Dead code: None found
- Duplication: None found; platform dispatch patterns are intentional
- Encapsulation: `_file_dialog_options()` helper properly encapsulates platform check
- Consistency fix: replaced `sys.platform == "darwin"` with `platform_utils.is_macos()` in plugins_tab.py
- Status: PASSED

### Phase 5: Security Review
- No new network endpoints or credential handling
- macOS wallpaper API uses `NSWorkspace` (native, sandboxed)
- `osascript` fallback uses subprocess with controlled input (image path only)
- No hardcoded secrets or credentials
- Platform markers in requirements.txt prevent unnecessary dependency installation
- File dialog fix uses Qt built-in dialog (no security implications)
- Status: PASSED

### Phase 5.5: Release Safety
- Change type: Code + new files (new platform support)
- Pattern used: Additive (no breaking changes to existing Linux/Windows)
- Rollback plan: Revert commits; existing platform functionality unaffected. Users reinstall previous version from GitHub Releases.
- Status: PASSED

### Files Changed (this release cycle)
| File | Change Type | Description |
|------|-------------|-------------|
| platform_utils.py | Modified | macOS platform detection, wallpaper API, lock/service stubs |
| clockwork-orange.py | Modified | macOS self-test imports, platform-aware checks |
| gui/main_window.py | Modified | Multi-monitor detection for all platforms |
| gui/plugins_tab.py | Modified | Non-native file dialog on macOS, consistency fix |
| requirements.txt | Modified | Platform markers, pyobjc dependencies |
| README.md | Modified | Three-platform documentation |
| gui/icons/clockwork-orange.icns | New | macOS icon file |
| scripts/build_macos.sh | New | PyInstaller build script for macOS |
| .github/workflows/build_macos.yml | New | Standalone macOS CI workflow |
| .github/workflows/build_package.yml | Modified | Added build-macos job and artifact |
| .tag | Modified | v2.7.13 → v2.8.0 |

### Overall
- All gates passed: YES
- Notes: Minor version bump for new platform feature. Lock screen wallpaper intentionally not supported on macOS (requires root). No launchd service (matches Windows model).
